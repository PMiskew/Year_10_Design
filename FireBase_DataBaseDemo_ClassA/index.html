<!DOCTYPE html>
<html>
<head>
	<title>Demo_Class_A</title>

	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

</head>
<body>

	<div class = "container">


		<a class="waves-effect waves-light btn">Once</a>

		<div id = "display">
			<p>Once Data Display</p>
		</div>


		<input placeholder="Input Name" id="name" type="text" class="validate">
		<label for="name">Name</label>
		

		<input placeholder="Input Food" id="food" type="text" class="validate">
		<label for="name">Food</label>

		<br/>
		<br/>

		<a id = "enter_data" class="waves-effect waves-light btn">Submit</a>
		
		<br/>
		<br/>

		<div id = "live">
			<p>Live Update</p>
		</div>

	</div>


	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>


	<!-- The core Firebase JS SDK is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

	<!-- TODO: Add SDKs for Firebase products that you want to use
	 https://firebase.google.com/docs/web/setup#available-libraries -->
	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>

	<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>



	<script>
	// Your web app's Firebase configuration
	// For Firebase JS SDK v7.20.0 and later, measurementId is optional
	var firebaseConfig = {
		apiKey: "AIzaSyCBR5s7HyT8CCgF0BvshuPg1_eULs0UQ94",
		authDomain: "dpcs-firebasedemoa.firebaseapp.com",
		databaseURL: "https://dpcs-firebasedemoa.firebaseio.com",
		projectId: "dpcs-firebasedemoa",
		storageBucket: "dpcs-firebasedemoa.appspot.com",
		messagingSenderId: "517925855501",
		appId: "1:517925855501:web:3db00cb68c00f9665c1044",
		measurementId: "G-3B43VCMV0J"
	};
	// Initialize Firebase
	firebase.initializeApp(firebaseConfig);
	//firebase.analytics();
	
	var database = firebase.database();

	var updateDisplay = database.ref('users/');

	function onUpdate(snapshot) {
			const data = snapshot.val();

			dataStr = JSON.stringify(data)

		//use for each loop to do this
		for (var key in data) {
			console.log(data[key])
		}

			
			console.log("*****")
			console.log(dataStr)
	}

	updateDisplay.on('value',onUpdate);


	</script>    


</body>
</html>