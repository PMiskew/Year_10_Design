<!DOCTYPE html>
<html>
<head>
  <title>
    
  </title>
</head>
<body>


<script> 
//What is this showing:
/*
  
  What is we want to use result, but only after the fetch is done?  This example shows how to link promiseA to two functions one that runs if the promise if fulfilled and one that runs if it is not fulfilled.  Note, getting an error based on the link still results with a fulfilled promise. 
*/


  function resolve() {
    console.log("RESOLVE",result)
  }

  function reject() {
    console.log("Promise Reject")
  }

  var result = [1,2,3]
  promiseA = fetch('https://jsonplaceholder.typicode.com/users1')
      .then((response) => response.json())
      .then (function(data) {
        result = data
        console.log("IN FETCH: ",result)
        //This is where you do the data processing
      });


  promiseA.setTimeout(function() {
      throw 'or nah';
      // return Promise.reject('or nah'); also won't work
    }, 1);

  console.log(result)
 
  resolve() //directly call resolve
  promiseA.then(resolve, reject); //only called resolve when promiseA is fulfilled








</script>
</body>
</html>