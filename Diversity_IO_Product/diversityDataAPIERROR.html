<!--
This example is simply here to highlight a common error when we first start working with fetch commands.  

Step 1: Run the code - Open console and look at error.  What is it?
Step 2: Read the comments and read the error. 

-->

<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

	<div id = "output">


	</div>


<script>


   function createNode(element) {
      return document.createElement(element);
    }

    function append(parent, el) {
      return parent.appendChild(el);
    }
	let url = "https://api.diversitydata.io/?fullname=Paul%20Miskew"
	console.log(url);
	
	var data1;
	fetch(url)
	  .then((resp) => resp.json()) // Transform the data into json
	  .then(function(data) {
	    // Create and append the li's to the ul
	    console.log(data)
	    console.log(data.fullname)
	    data1 = data
	    //MOVE COPIED CODE HERE:
		})
	  .catch(function(error) {
	    // If there is any error you will catch them here
	    console.log(error);
		}); 

	
	  
	//COPY EVERYTHING FROM HERE
	let output = document.getElementById("output")
	    
	while(output.firstChild){
		   output.removeChild(output.firstChild);
	}

	let node = createNode("h3");
	node.innerHTML = data1.fullname;
	append(output,node)

	node = createNode("h3");
	node.innerHTML = data1.gender +": "+data1["gender probability"];
	append(output,node)


	node = createNode("h3");
	node.innerHTML = data1.ethnicity +": "+data1["ethnicity probability"];
append(output,node)
	   //TO HERE

	    
	 
		 

</script>
</body>
</html>